jQuery(function(t){let r=0;t(document).on("attx.updated attx.no_params",function(t){window.addEventListener("message",e=>{if("https://calendly.com"===e.origin&&e.data.event&&0===e.data.event.indexOf("calendly.")&&(e=localStorage.getItem("attx"))){e=(e=JSON.parse(e))[e.length-1];if(r)return!1;let t="";var a=jQuery("iframe[src*='calendly.com/']").attr("src");t=a,e.hasOwnProperty("utm_source")&&(t=updateQueryStringParameter(t,"utm_source",e.utm_source)),e.hasOwnProperty("utm_medium")&&(t=updateQueryStringParameter(t,"utm_medium",e.utm_medium)),e.hasOwnProperty("utm_campaign")&&(t=updateQueryStringParameter(t,"utm_campaign",e.utm_campaign)),e.hasOwnProperty("utm_content")&&(t=updateQueryStringParameter(t,"utm_content",e.utm_content)),e.hasOwnProperty("utm_term")&&(t=updateQueryStringParameter(t,"utm_term",e.utm_term)),jQuery("iframe[src*='calendly.com/']").attr("src",t),r=1}},!1)})}),jQuery(function(e){e(document).on("attx.updated attx.no_params",function(t){e("[name=gform_submit]").after("<input type='hidden' name='attx' value='"+localStorage.getItem("attx")+"' />")})}),window.updateQueryStringParameter=function(t,e,a){var r=new RegExp("([?&])"+e+"=.*?(&|$)","i"),n=-1!==t.indexOf("?")?"&":"?";return t.match(r)?t.replace(r,"$1"+e+"="+a+"$2"):t+n+e+"="+a},jQuery(function(a){if(sessionStorage.getItem("attx_updated"))a(document).trigger("attx.updated");else{let e={};const r=new URLSearchParams(window.location.search);if(["utm_id","utm_source","utm_medium","utm_campaign","utm_term","utm_content","gclid","fbclid","tduid"].forEach(t=>{r.has(t)&&(e[t]=r.get(t))}),Object.keys(e).length){e.time=(new Date).toUTCString(),e.path=location.pathname,e.ref=encodeURIComponent(document.referrer)||"direct",r.has("gclid")?e.source="Google Ads":r.has("fbclid")?e.source="Meta Ads":r.has("tduid")?e.source="Tradedoubler":-1!==e.ref.indexOf("google")?e.source="Google":-1!==e.ref.indexOf("instagram")&&(e.source="Instagram");let t=localStorage.getItem("attx");(t=t?JSON.parse(t):[]).push(e),localStorage.setItem("attx",JSON.stringify(t)),sessionStorage.setItem("attx_updated",1),a(document).trigger("attx.updated")}else a(document).trigger("attx.no_params")}});